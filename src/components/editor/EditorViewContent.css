.editor-holder {
  --meditor-link-color: #2563eb;
}

.editor-content-shell {
  max-width: 880px;
  margin: 0 auto;
  padding-left: 2.5rem;
}

.editor-gutter-hitbox {
  min-width: 36px;
  z-index: 1;
  pointer-events: none;
  background: transparent;
}

.editor-holder .ProseMirror > *,
.editor-holder .ProseMirror li {
  position: relative;
}

.editor-holder .ProseMirror > *::after,
.editor-holder .ProseMirror li::after {
  content: '';
  position: absolute;
  left: -5rem;
  width: 5rem;
  top: -0.25rem;
  bottom: -0.25rem;
  pointer-events: auto;
}

@media (max-width: 840px) {
  .editor-content-shell {
    max-width: 100%;
    padding-left: 0.5rem;
  }
}

.dark .editor-holder {
  --meditor-link-color: #60a5fa;
}

.editor-holder a.wikilink {
  color: var(--meditor-link-color);
  text-decoration: underline;
}

.editor-holder a.wikilink.is-missing {
  color: rgb(220 38 38);
  text-decoration-style: dashed;
}

.editor-holder .ProseMirror {
  min-height: 100%;
  outline: none;
  line-height: 1.6;
}

.editor-holder .ProseMirror p {
  margin: 0.42rem 0;
}

.editor-holder .ProseMirror h1 {
  font-size: calc(1.9rem * var(--editor-zoom, 1));
  font-weight: 580;
  line-height: 1.35;
  margin: 0.68rem 0 1.12rem;
}

.editor-holder .ProseMirror h2 {
  font-size: calc(1.6rem * var(--editor-zoom, 1));
  line-height: 1.35;
  margin: 0.95rem 0 0.8rem;
  padding-bottom: 0.35rem;
  border-bottom: 1px solid rgb(229 231 235);
}

.editor-holder .ProseMirror h3 {
  font-size: calc(1.35rem * var(--editor-zoom, 1));
  line-height: 1.35;
  margin: 0.75rem 0 0.45rem;
}

.editor-holder .ProseMirror h4 {
  font-size: calc(1.18rem * var(--editor-zoom, 1));
  font-weight: 560;
  line-height: 1.35;
  margin: 0.62rem 0 0.35rem;
  color: #3f4754;
}

.editor-holder .ProseMirror h5 {
  font-size: calc(1.04rem * var(--editor-zoom, 1));
  font-weight: 540;
  line-height: 1.35;
  margin: 0.5rem 0 0.28rem;
  color: #4b5563;
}

.editor-holder .ProseMirror h6 {
  font-size: calc(0.94rem * var(--editor-zoom, 1));
  font-weight: 520;
  line-height: 1.35;
  margin: 0.45rem 0 0.22rem;
  color: #5b6472;
}

.editor-holder .ProseMirror :not(pre) > code {
  border-radius: 0.34rem;
  padding: 0.06rem 0.38rem;
  font-size: 0.92em;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  background: rgb(241 245 249);
}

.editor-holder .ProseMirror ul,
.editor-holder .ProseMirror ol {
  margin: 0.45rem 0 0.45rem 1.35rem;
  padding: 0;
}

.editor-holder .ProseMirror ul {
  list-style: disc;
}

.editor-holder .ProseMirror ol {
  list-style: decimal;
}

.editor-holder .ProseMirror ul ul {
  list-style: circle;
}

.editor-holder .ProseMirror ol ol {
  list-style: lower-alpha;
}

.editor-holder .ProseMirror li {
  margin: 0.2rem 0;
}

.editor-holder .ProseMirror ul[data-type="taskList"] {
  list-style: none;
  margin-left: 0.25rem;
}

.editor-holder .ProseMirror ul[data-type="taskList"] li {
  display: flex;
  align-items: flex-start;
  gap: 0.45rem;
}

.editor-holder .ProseMirror ul[data-type="taskList"] li > label {
  margin-top: 0;
  display: inline-flex;
  align-items: center;
  padding-top: 0.15rem;
}

.editor-holder .ProseMirror ul[data-type="taskList"] li > label input[type="checkbox"] {
  width: 1.1rem;
  height: 1.1rem;
  accent-color: rgb(37 99 235);
  cursor: pointer;
}

.dark .editor-holder .ProseMirror ul[data-type="taskList"] li > label input[type="checkbox"] {
  color-scheme: dark;
  background-color: rgb(30 41 59);
  border-color: rgb(100 116 139);
}

.editor-holder .ProseMirror ul[data-type="taskList"] li > div > p {
  margin: 0;
  min-height: 1.2em;
  outline: 1px solid transparent;
}

.editor-holder .ProseMirror table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  margin: 0.8rem 0;
  border: 1px solid rgb(203 213 225);
  border-radius: 0.65rem;
  overflow: hidden;
  background: rgb(255 255 255 / 0.98);
  font-size: calc(0.92rem * var(--editor-zoom, 1));
  line-height: 1.45;
  table-layout: fixed;
}

.editor-holder .ProseMirror th,
.editor-holder .ProseMirror td {
  border-right: 1px solid rgb(226 232 240);
  border-bottom: 1px solid rgb(226 232 240);
  padding: 0.5rem 0.62rem;
  vertical-align: top;
  position: relative;
  min-width: 4rem;
  transition: background-color 120ms ease;
}

.editor-holder .ProseMirror tr:last-child > th,
.editor-holder .ProseMirror tr:last-child > td {
  border-bottom: none;
}

.editor-holder .ProseMirror tr > th:last-child,
.editor-holder .ProseMirror tr > td:last-child {
  border-right: none;
}

.editor-holder .ProseMirror tbody tr:hover td {
  background: rgb(248 250 252);
}

.editor-holder .ProseMirror th {
  font-weight: 640;
  background: rgb(248 250 252);
  color: rgb(30 41 59);
}

.editor-holder .ProseMirror td.selectedCell,
.editor-holder .ProseMirror th.selectedCell {
  background: rgb(219 234 254);
}

.editor-holder .ProseMirror .column-resize-handle {
  position: absolute;
  right: -2px;
  top: 0;
  width: 4px;
  height: 100%;
  background: rgb(59 130 246 / 0.55);
  pointer-events: none;
}

.editor-holder .ProseMirror.resize-cursor {
  cursor: col-resize;
}

.editor-holder .ProseMirror pre {
  border: 1px solid rgb(226 232 240);
  border-radius: 0.6rem;
  padding: 0.8rem;
  overflow: auto;
}

.editor-holder .meditor-code-node {
  margin: 0.5rem 0;
}

.editor-holder .meditor-code-node-actions {
  display: flex;
  gap: 0.36rem;
  justify-content: flex-end;
  margin-bottom: 0.35rem;
}

.editor-holder .meditor-code-node pre.meditor-code-wrap-enabled {
  white-space: pre-wrap;
  word-break: break-word;
}

.editor-holder .meditor-code-copy-btn,
.editor-holder .meditor-code-wrap-btn {
  border: 1px solid rgb(203 213 225);
  border-radius: 0.4rem;
  background: white;
  color: rgb(51 65 85);
  font-size: 0.7rem;
  line-height: 1;
  padding: 0.28rem 0.45rem;
  cursor: pointer;
}

.editor-holder .meditor-drag-handle {
  z-index: 35;
}

.editor-holder .meditor-block-controls {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.12rem;
  padding-right: 0.8rem;
  line-height: 1;
}

.editor-holder .meditor-block-control-btn {
  width: 1.7rem;
  height: 1.7rem;
  border: 1px solid rgb(203 213 225);
  border-radius: 0.4rem;
  background: white;
  color: rgb(71 85 105);
  font-size: 0.95rem;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.editor-holder .meditor-block-control-btn:hover {
  background: rgb(241 245 249);
}

.editor-holder .meditor-block-grip-btn {
  letter-spacing: -0.1rem;
}

.meditor-table-trigger {
  display: flex;
  align-items: center;
  gap: 0.28rem;
  transition: transform 120ms ease;
  transform: translateY(0);
}

.meditor-table-trigger.is-visible {
  opacity: 0.92;
  pointer-events: auto;
  transform: translateY(0);
}

.meditor-table-edge {
  display: flex;
  opacity: 0;
  pointer-events: none;
  transition: opacity 140ms ease;
}

.meditor-table-edge-top,
.meditor-table-edge-bottom {
  align-items: center;
  justify-content: center;
  height: 20px;
}

.meditor-table-edge-left,
.meditor-table-edge-right {
  align-items: center;
  justify-content: center;
  width: 20px;
}

.meditor-table-edge.is-visible {
  opacity: 1;
  pointer-events: auto;
}

.meditor-table-plus-btn {
  width: 100%;
  height: 100%;
  border: none;
  border-radius: 0.34rem;
  background: transparent;
  color: rgb(71 85 105);
  font-size: 0.95rem;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity 120ms ease, background-color 120ms ease;
}

.meditor-table-edge.is-visible .meditor-table-plus-btn {
  opacity: 0.92;
  pointer-events: auto;
}

.meditor-table-edge.is-visible .meditor-table-plus-btn:hover {
  background: rgb(248 250 252 / 0.7);
}

.meditor-table-trigger-btn {
  width: 1.38rem;
  height: 1.38rem;
  border: 1px solid rgb(203 213 225);
  border-radius: 0.38rem;
  background: rgb(255 255 255 / 0.92);
  color: rgb(71 85 105);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  letter-spacing: -0.08rem;
  font-size: 0.82rem;
  line-height: 1;
}

.meditor-table-trigger-btn:focus-visible {
  outline: 2px solid rgb(96 165 250 / 0.55);
  outline-offset: 1px;
}

.meditor-table-trigger-btn:hover {
  background: rgb(248 250 252);
}

.dark .editor-holder .meditor-block-control-btn {
  border-color: rgb(71 85 105);
  background: rgb(15 23 42);
  color: rgb(203 213 225);
}

.dark .editor-holder .meditor-block-control-btn:hover {
  background: rgb(30 41 59);
}

.dark .meditor-table-trigger-btn {
  border-color: rgb(71 85 105);
  background: rgb(30 41 59 / 0.96);
  color: rgb(226 232 240);
  box-shadow: 0 0 0 1px rgb(15 23 42 / 0.35);
}

.dark .meditor-table-trigger-btn:hover {
  background: rgb(30 41 59 / 0.92);
}

.dark .meditor-table-edge.is-visible .meditor-table-plus-btn {
  color: rgb(226 232 240);
}

.dark .meditor-table-edge.is-visible .meditor-table-plus-btn:hover {
  background: rgb(30 41 59 / 0.55);
}

.dark .meditor-table-trigger-btn:focus-visible {
  outline: 2px solid rgb(147 197 253 / 0.65);
}

.dark .editor-holder .ProseMirror th,
.dark .editor-holder .ProseMirror td {
  border-color: rgb(51 65 85);
}

.dark .editor-holder .ProseMirror h2 {
  border-bottom-color: rgb(71 85 105);
}

.dark .editor-holder .ProseMirror {
  color: #abb2bf;
}

.dark .editor-holder .ProseMirror h1,
.dark .editor-holder .ProseMirror h2,
.dark .editor-holder .ProseMirror h3 {
  color: #d7dce5;
}

.dark .editor-holder .ProseMirror h4 {
  color: #c3cad6;
}

.dark .editor-holder .ProseMirror h5 {
  color: #b6becc;
}

.dark .editor-holder .ProseMirror h6 {
  color: #a7b0bf;
}

.dark .editor-holder .ProseMirror table {
  border-color: rgb(71 85 105);
  background: rgb(15 23 42);
}

.dark .editor-holder .ProseMirror th {
  background: rgb(30 41 59 / 0.85);
  color: rgb(226 232 240);
}

.dark .editor-holder .ProseMirror tbody tr:hover td {
  background: rgb(30 41 59 / 0.45);
}

.dark .editor-holder .ProseMirror td.selectedCell,
.dark .editor-holder .ProseMirror th.selectedCell {
  background: rgb(30 64 175 / 0.45);
}

.dark .editor-holder .ProseMirror .column-resize-handle {
  background: rgb(96 165 250 / 0.65);
}

.dark .editor-holder .ProseMirror :not(pre) > code {
  background: rgb(30 41 59 / 0.7);
}
